generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}


enum UserRole {
   ADMIN
   USER 
}

model User {
   id                String @id @default(uuid()) @map("_id") 
   name              String
   email             String @unique
   image             String?
   phone             String
   password          String?
   role              UserRole @default(USER)
   accounts          Account[] 
}

model Account {
   id                String  @id @default(uuid()) @map("_id") 
   userId            String  
   type              String
   provider          String
   providerAccountId String
   refresh_token     String? 
   access_token      String? 
   expires_at        Int?
   token_type        String?
   scope             String?
   id_token          String? 
   session_state     String?
 
   createdAt         DateTime @default(now())
   updatedAt         DateTime @updatedAt
 
   user              User @relation(fields: [userId], references: [id], onDelete: Cascade)
 
   @@unique([provider, providerAccountId])
}